(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2962d7fd"],{"0af7":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("button",{staticClass:"bag bg-transparent border-none z-10",attrs:{type:"button","data-toggle":"modal","data-target":"#cart-modal"},on:{click:function(a){return t.cartModalShow()}}},[e("i",{staticClass:"fas fa-shopping-bag text-grayish-dark hover:text-orange border shadow-sm bg-grayish-light rounded-full h-16 w-16 flex items-center justify-center",staticStyle:{"font-size":"25px"}}),t.cart.carts.length?e("small",{staticClass:"py-0.5 px-2 bg-orange text-white rounded-full font-mono"},[t._v(" "+t._s(t.cart.carts.length)+" ")]):t._e()]),e("div",{staticClass:"modal fade",attrs:{id:"cart-modal",tabindex:"-1"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg"},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"table-wrap"},[e("table",{staticClass:"table mb-0 text-info font-weight-bold"},[t._m(1),e("tbody",t._l(t.cart.carts,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"text-center cursor-pointer hover:text-orange",on:{click:function(e){return t.removeCart(a.id)}}},[e("i",{staticClass:"fas fa-trash-alt"})]),e("td",[e("div",{staticClass:"badge badge-info text-white"},[t._v(t._s(a.product.category)+" 吋")])]),e("td",[t._v(t._s(a.product.title))]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t._f("currency")(a.product.price))+" ")]),e("td",{staticClass:"text-right"},[t._v(t._s(a.qty)+" "+t._s(a.product.unit))]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(a.total)))])])})),0),e("tfoot",[e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"5"}},[t._v("總計")]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.cart.total)))])])])])])]),e("div",{staticClass:"modal-footer flex justify-content-sm-end"},[e("router-link",{attrs:{to:{name:"Store"}}},[e("button",{staticClass:"btn rounded py-2 px-10 mr-0 mr-sm-2 bg-secondary text-primary",attrs:{type:"button"},on:{click:function(a){return t.cartModalHide()}}},[t._v(" 繼續選購 ")])]),e("router-link",{attrs:{to:{name:"CheckOrder"}}},[e("button",{staticClass:"btn rounded py-2 px-10 bg-primary text-white",attrs:{type:"button"},on:{click:function(a){return t.cartModalHide()}}},[t._v(" 前往結帳 ")])])],1)])])])])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th"),e("th",[t._v("尺寸")]),e("th",[t._v("品名")]),e("th",[t._v("價格")]),e("th",{staticClass:"text-right"},[t._v("數量")]),e("th",[t._v("小計")])])])}],o=e("5530"),i=e("1157"),c=e.n(i),n=e("2f62"),d={name:"Cart",data:function(){return{length:0}},methods:{getCart:function(){this.$store.dispatch("getCart")},removeCart:function(t){this.$store.dispatch("removeCart",t)},cartModalShow:function(){c()("#cart-modal").modal("show")},cartModalHide:function(){c()("#cart-modal").modal("hide")}},computed:Object(o["a"])({},Object(n["b"])(["cart"])),created:function(){this.getCart()}},l=d,u=(e("33c2"),e("2877")),p=Object(u["a"])(l,s,r,!1,null,"1c23e4be",null);a["a"]=p.exports},"33c2":function(t,a,e){"use strict";e("a87b")},"4a2f":function(t,a,e){"use strict";e("b1d9")},"56a6":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"message-alert"},t._l(t.messages,(function(a,s){return e("div",{key:s,staticClass:"alert fade show",class:"alert-"+a.status,attrs:{role:"alert","data-aos":"fade-left","data-aos-duration":"1500"}},[e("span",[t._v(t._s(a.message))])])})),0)},r=[],o={computed:{messages:function(){return this.$store.state.messages}},methods:{updateMessage:function(t,a){this.$store.dispatch("updateMessage",{message:t,status:a})},removeMessage:function(t){this.$store.dispatch("removeMessage",t)},removeMessageWithTiming:function(t){this.$store.dispatch("removeMessageWithTiming",t)}}},i=o,c=(e("4a2f"),e("2877")),n=Object(c["a"])(i,s,r,!1,null,null,null);a["a"]=n.exports},"834b":function(t,a,e){"use strict";e("96fc")},"96fc":function(t,a,e){},a87b:function(t,a,e){},b1d9:function(t,a,e){},b627:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),e("Alert"),e("div",{staticClass:"wrap p-10 text-center text-choco",attrs:{"data-aos":"fade-down","data-aos-duration":"1000"}},[e("h1",{staticClass:"mt-3 mb-8 text-choco"},[t._v("CHOOSE YOUR UKULELE")]),e("div",{staticClass:"flex flex-wrap justify-center tracking-widest"},[e("div",{staticClass:"px-2 tab-item"},[e("a",{staticClass:"tab pb-1 px-3 hover:no-underline",class:{active:0==t.category},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getCategory(0)}}},[t._v(" 全部 ")])]),e("div",{staticClass:"px-2"},[e("a",{staticClass:"tab pb-1 px-3 hover:no-underline",class:{active:21==t.category},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getCategory(21)}}},[t._v(" 21吋 ")])]),e("div",{staticClass:"px-2"},[e("a",{staticClass:"tab pb-1 px-3 hover:no-underline",class:{active:23==t.category},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getCategory(23)}}},[t._v(" 23吋 ")])]),e("div",{staticClass:"px-2"},[e("a",{staticClass:"tab pb-1 px-3 hover:no-underline",class:{active:26==t.category},attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.getCategory(26)}}},[t._v(" 26吋 ")])])]),e("div",{staticClass:"grid grid-cols-1 mobile:grid-cols-2 md:grid-cols-3 ipad:grid-cols-4 mt-5 mb-40"},[t._l(t.products,(function(a){return e("div",{key:a.id,attrs:{"data-aos":"fade-up","data-aos-duration":"1000"}},[e("div",{staticClass:"image bg-contain bg-center bg-no-repeat cursor-pointer",style:{backgroundImage:"url("+a.imageUrl+")"},on:{click:function(e){return t.$router.push("product/"+a.id)}}}),e("div",{staticClass:"tracking-widest my-3 text-choco"},[e("h5",[21==a.category?e("span",{staticClass:"badge badge-info text-white"},[t._v(" 21吋 ")]):23==a.category?e("span",{staticClass:"badge badge-info text-white"},[t._v(" 23吋 ")]):e("span",{staticClass:"badge badge-info text-white"},[t._v("26吋")])]),e("div",{staticClass:"item"},[e("h2",{staticClass:"mt-3 font-bold"},[t._v(t._s(a.title))]),e("h5",{staticClass:"mt-1"},[t._v("NT "+t._s(t._f("currency")(a.price)))])]),e("button",{staticClass:"btn rounded py-2 px-10 border-solid border-2 bg-grayish-dark text-white tracking-widest my-3 hover:opacity-70",attrs:{type:"button"},on:{click:function(e){return t.getProduct(a.id)}}},[t._v(" Add to Cart ")])])])})),e("div",{staticClass:"modal",attrs:{id:"product-modal",tabindex:"-1"}},[e("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-lg"},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body mx-8"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg"},[e("img",{staticClass:"object-cover",staticStyle:{height:"500px"},attrs:{src:t.product.imageUrl,alt:"ukulele"}})]),e("div",{staticClass:"col-lg mt-3 mt-lg-0 text-box"},[e("div",[e("h3",{staticClass:"mb-3 font-weight-bold text-left"},[t._v(" "+t._s(t.product.title)+" ")]),e("h3",{staticClass:"mt-1 font-weight-bold text-left"},[t._v(" NT "+t._s(t._f("currency")(t.product.price))+" / "+t._s(t.product.unit)+" ")]),e("p",{staticClass:"mt-3 mb-8 py-3 border-top text-justify"},[t._v(" "+t._s(t.product.description)+" ")])]),e("div",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"w-100 p-2 rounded font-weight-bold border border-primary",attrs:{name:"num"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.product,"num",a.target.multiple?e:e[0])}}},t._l(10,(function(a){return e("option",{key:a,domProps:{value:a}},[t._v(" "+t._s(a)+" ")])})),0),e("button",{staticClass:"w-100 py-2 px-10 mt-3 rounded btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.addCart(t.product.id,t.product.num)}}},[t._v(" Add to Cart ")])])])])]),t._m(1)])])])],2)]),e("Cart")],1)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" Close ")])])}],o=e("5530"),i=(e("4de4"),e("d3b7"),e("1157")),c=e.n(i),n=e("2f62"),d=e("0af7"),l=e("56a6"),u={name:"Store",components:{Cart:d["a"],Alert:l["a"]},data:function(){return{product:[],products:[],filterProducts:[],category:0,num:1}},methods:{getProducts:function(){var t=this,a="https://vue-course-api.hexschool.io/api/syuanyu/products/all";t.$store.commit("LOADING",!0),t.$http.get(a).then((function(a){t.products=a.data.products.filter((function(t){return 1===t.is_enabled})),t.filterProducts=a.data.products.filter((function(t){return 1===t.is_enabled})),t.$store.commit("LOADING",!1)}))},getProduct:function(t){var a=this,e="https://vue-course-api.hexschool.io/api/syuanyu/product/".concat(t);a.$store.commit("LOADING",!0),a.$http.get(e).then((function(t){a.product=t.data.product,c()("#product-modal").modal("show"),a.product.num=1,a.$store.commit("LOADING",!1)}))},getCategory:function(t){var a=this;a.products=0===t?a.filterProducts:a.filterProducts.filter((function(a){return a.category==t})),a.category=t},addCart:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addCart",{id:t,qty:a}),c()("#product-modal").modal("hide");var e="已加入購物車",s="info";this.$store.dispatch("updateMessage",{message:e,status:s})},getCart:function(){this.$store.dispatch("getCart")},removeCart:function(t){this.$store.dispatch("removeCart",t)}},computed:Object(o["a"])({},Object(n["b"])(["isLoading","cart"])),created:function(){this.getProducts(),this.getCart()}},p=u,m=(e("834b"),e("2877")),f=Object(m["a"])(p,s,r,!1,null,"61605a10",null);a["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2962d7fd.2690bf96.js.map