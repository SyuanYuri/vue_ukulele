(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb5bb232"],{"3bac":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[t._m(0),a("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 gap-5 pb-5 px-5 tracking-widest text-center text-grayish-dark"},[a("div",{staticClass:"table-wrap"},[t._m(1),a("table",{staticClass:"border-2 w-full"},[t._m(2),a("tbody",t._l(t.order.products,(function(s){return a("tr",{key:s.id},[a("td",{staticClass:"p-2 pl-5 text-left"},[t._v(t._s(s.product.title))]),a("td",{staticStyle:{"padding-left":"20px"}},[t._v(" "+t._s(s.qty)+" ")]),a("td",{staticClass:"text-right px-3 font-bold"},[t._v(" "+t._s(t._f("currency")(s.final_total))+" ")])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right p-2 px-3 font-bold",attrs:{colspan:"3"}},[t._v("總計 "+t._s(t._f("currency")(t.order.total)))])])])])]),a("div",{staticClass:"wrap border-2 rounded-md"},[a("table",{staticClass:"w-full"},[a("tbody",{staticClass:"text-left"},[a("tr",[a("th",{staticClass:"p-2 px-3"},[t._v("姓名")]),a("td",[t._v(t._s(t.order.user.name))])]),a("tr",[a("th",{staticClass:"p-2 px-3"},[t._v("電話")]),a("td",[t._v(t._s(t.order.user.tel))])]),a("tr",[a("th",{staticClass:"p-2 px-3"},[t._v("信箱")]),a("td",[t._v(t._s(t.order.user.email))])]),a("tr",[a("th",{staticClass:"p-2 px-3"},[t._v("地址")]),a("td",[t._v(t._s(t.order.user.address))])]),a("tr",[a("th",{staticClass:"p-2 px-3"},[t._v("日期")]),a("td",[t._v(t._s(t.date))])]),a("tr",[a("th",{staticClass:"p-2 px-3"},[t._v("狀態")]),a("td",{staticClass:"text-orange font-bold"},[t.order.is_paid?a("h6",[a("i",{staticClass:"fas fa-check-circle mr-1"}),t._v("付款完成")]):a("h6",[a("i",{staticClass:"fas fa-exclamation-triangle mr-1"}),t._v(" 尚未付款")])])])])]),!1===t.order.is_paid?a("div",{staticClass:"text-right p-2"},[a("button",{staticClass:"rounded py-1 px-2 bg-grayish-dark text-white hover:opacity-80 tracking-wider",attrs:{type:"submit"},on:{click:t.payOrder}},[t._v(" 確認付款 ")])]):t._e(),!0===t.order.is_paid?a("div",{staticClass:"text-right p-2"},[a("button",{staticClass:"rounded py-1 px-3 bg-grayish-dark text-white hover:opacity-70 tracking-wider",attrs:{type:"button"},on:{click:function(s){return t.$router.push("/store")}}},[t._v(" 繼續購物 ")]),a("button",{staticClass:"rounded py-1 px-3 ml-2 bg-grayish-light text-grayish-dark hover:opacity-70 tracking-wider",attrs:{type:"button"},on:{click:function(s){return t.$router.push("/")}}},[t._v(" 回到首頁 ")])]):t._e()]),t._m(3)])])},r=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tab grid grid-cols-3 py-5 tracking-widest text-center text-grayish-dark"},[a("div",{staticClass:"item"},[a("span",[t._v("01 - 訂單明細")])]),a("div",{staticClass:"item"},[a("span",[t._v("02 - 付款資訊")])]),a("div",{staticClass:"item"},[a("span",{staticClass:"pb-2 border-b-2 font-bold border-orange text-orange"},[t._v("03 - 完成訂單")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"sm:bg-choco sm:text-white font-bold py-2.5 rounded-t-md"},[a("h5",[t._v("交易明細")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("thead",{staticClass:"border-b-2"},[a("th",{staticClass:"py-2 pl-5 text-left"},[t._v("品名")]),a("th",{attrs:{width:"20%"}},[t._v("數量")]),a("th",{attrs:{width:"20%"}},[t._v("單價")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"modal",attrs:{id:"pay-modal",tabindex:"-1"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("p",[t._v("付款成功，感謝您的購買！")]),a("button",{staticClass:"btn btn-outline-info mt-3",attrs:{type:"button","data-toggle":"modal","data-target":"#pay-modal"}},[t._v(" Close Me ")])])])])])}],i=a("1157"),o=a.n(i),d={name:"Complete",data:function(){return{orderId:"",order:{user:{}},date:""}},methods:{getOrder:function(){var t=this,s="https://vue-course-api.hexschool.io/api/syuanyu/order/".concat(t.orderId);t.$store.commit("LOADING",!0),t.$http.get(s).then((function(s){t.order=s.data.order,t.$store.commit("LOADING",!1)}))},payOrder:function(){var t=this,s="https://vue-course-api.hexschool.io/api/syuanyu/pay/".concat(t.orderId);t.$store.commit("LOADING",!0),t.$http.post(s).then((function(s){s.data.success?(t.getOrder(),o()("#pay-modal").modal("show"),t.$store.commit("LOADING",!1)):t.$store.commit("LOADING",!1)}))},dateFormate:function(){var t=new Date,s=t.getFullYear(),a=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,e=t.getDate()<10?"0"+t.getDate():t.getDate();this.date=s+"年"+a+"月"+e+"日"}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder(),this.dateFormate()}},c=d,n=(a("8d54"),a("2877")),l=Object(n["a"])(c,e,r,!1,null,"02d345c6",null);s["default"]=l.exports},"8d54":function(t,s,a){"use strict";a("93dd")},"93dd":function(t,s,a){}}]);
//# sourceMappingURL=chunk-fb5bb232.73b020ff.js.map